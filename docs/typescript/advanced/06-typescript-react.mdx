---
id: typescript-react
title: TypeScript with React
sidebar_position: 6
description: Master TypeScript with React including component typing, hooks, props, events, and best practices for type-safe React applications.
keywords: [typescript react, react typescript, typed react components, react hooks typescript, react props types]
---

# TypeScript with React

TypeScript and React work together to provide **type-safe, maintainable** React applications. Learn how to type components, hooks, props, and events.

---

## Setup

### Create React App with TypeScript

```bash
npx create-react-app my-app --template typescript
```

### Vite with TypeScript

```bash
npm create vite@latest my-app -- --template react-ts
```

### Manual Setup

```bash
npm install --save-dev typescript @types/react @types/react-dom
```

---

## Function Components

### Basic Component

```typescript
import React from 'react';

interface GreetingProps {
  name: string;
  age?: number;
}

function Greeting({ name, age }: GreetingProps): JSX.Element {
  return (
    <div>
      <h1>Hello, {name}!</h1>
      {age && <p>You are {age} years old</p>}
    </div>
  );
}

export default Greeting;
```

### With React.FC (Function Component)

```typescript
import React from 'react';

interface GreetingProps {
  name: string;
  age?: number;
}

const Greeting: React.FC<GreetingProps> = ({ name, age }) => {
  return (
    <div>
      <h1>Hello, {name}!</h1>
      {age && <p>You are {age} years old</p>}
    </div>
  );
};

export default Greeting;
```

:::tip
Modern React prefers **not using `React.FC`** as it has some limitations. Use regular function components instead.
:::

---

## Props

### Required and Optional Props

```typescript
interface ButtonProps {
  label: string;           // Required
  onClick: () => void;     // Required
  disabled?: boolean;      // Optional
  variant?: 'primary' | 'secondary';  // Optional with union type
}

function Button({ label, onClick, disabled = false, variant = 'primary' }: ButtonProps) {
  return (
    <button onClick={onClick} disabled={disabled} className={variant}>
      {label}
    </button>
  );
}
```

### Children Props

```typescript
interface CardProps {
  title: string;
  children: React.ReactNode;
}

function Card({ title, children }: CardProps) {
  return (
    <div className="card">
      <h2>{title}</h2>
      <div>{children}</div>
    </div>
  );
}

// Usage
<Card title="My Card">
  <p>Card content</p>
</Card>
```

### Extending HTML Attributes

```typescript
interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {
  variant?: 'primary' | 'secondary';
}

function Button({ variant = 'primary', children, ...props }: ButtonProps) {
  return (
    <button className={variant} {...props}>
      {children}
    </button>
  );
}

// Usage - All button attributes work
<Button onClick={() => {}} disabled type="submit" variant="primary">
  Click me
</Button>
```

---

## Hooks

### useState

```typescript
import { useState } from 'react';

function Counter() {
  // Type inference
  const [count, setCount] = useState(0);

  // Explicit type
  const [name, setName] = useState<string>('');

  // Union type
  const [user, setUser] = useState<User | null>(null);

  // With initial value
  const [items, setItems] = useState<string[]>([]);

  return (
    <div>
      <p>Count: {count}</p>
      <button onClick={() => setCount(count + 1)}>Increment</button>
    </div>
  );
}
```

### useEffect

```typescript
import { useEffect } from 'react';

function DataFetcher() {
  useEffect(() => {
    // Effect logic
    fetchData();

    // Cleanup function
    return () => {
      cleanup();
    };
  }, []); // Dependencies

  return <div>Data</div>;
}
```

### useRef

```typescript
import { useRef, useEffect } from 'react';

function InputFocus() {
  // DOM element ref
  const inputRef = useRef<HTMLInputElement>(null);

  // Mutable value ref
  const countRef = useRef<number>(0);

  useEffect(() => {
    inputRef.current?.focus();
  }, []);

  return <input ref={inputRef} type="text" />;
}
```

### useContext

```typescript
import { createContext, useContext } from 'react';

interface ThemeContextType {
  theme: 'light' | 'dark';
  toggleTheme: () => void;
}

const ThemeContext = createContext<ThemeContextType | undefined>(undefined);

function ThemeProvider({ children }: { children: React.ReactNode }) {
  const [theme, setTheme] = useState<'light' | 'dark'>('light');

  const toggleTheme = () => {
    setTheme(prev => prev === 'light' ? 'dark' : 'light');
  };

  return (
    <ThemeContext.Provider value={{ theme, toggleTheme }}>
      {children}
    </ThemeContext.Provider>
  );
}

function useTheme() {
  const context = useContext(ThemeContext);
  if (!context) {
    throw new Error('useTheme must be used within ThemeProvider');
  }
  return context;
}
```

### useReducer

```typescript
import { useReducer } from 'react';

interface State {
  count: number;
  error: string | null;
}

type Action =
  | { type: 'INCREMENT' }
  | { type: 'DECREMENT' }
  | { type: 'RESET' }
  | { type: 'ERROR'; payload: string };

function reducer(state: State, action: Action): State {
  switch (action.type) {
    case 'INCREMENT':
      return { ...state, count: state.count + 1 };
    case 'DECREMENT':
      return { ...state, count: state.count - 1 };
    case 'RESET':
      return { count: 0, error: null };
    case 'ERROR':
      return { ...state, error: action.payload };
    default:
      return state;
  }
}

function Counter() {
  const [state, dispatch] = useReducer(reducer, { count: 0, error: null });

  return (
    <div>
      <p>Count: {state.count}</p>
      <button onClick={() => dispatch({ type: 'INCREMENT' })}>+</button>
      <button onClick={() => dispatch({ type: 'DECREMENT' })}>-</button>
    </div>
  );
}
```

### Custom Hooks

```typescript
import { useState, useEffect } from 'react';

interface UseFetchResult<T> {
  data: T | null;
  loading: boolean;
  error: Error | null;
}

function useFetch<T>(url: string): UseFetchResult<T> {
  const [data, setData] = useState<T | null>(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<Error | null>(null);

  useEffect(() => {
    fetch(url)
      .then(res => res.json())
      .then(data => {
        setData(data);
        setLoading(false);
      })
      .catch(err => {
        setError(err);
        setLoading(false);
      });
  }, [url]);

  return { data, loading, error };
}

// Usage
interface User {
  id: number;
  name: string;
}

function UserProfile() {
  const { data, loading, error } = useFetch<User>('/api/user');

  if (loading) return <div>Loading...</div>;
  if (error) return <div>Error: {error.message}</div>;
  if (!data) return null;

  return <div>{data.name}</div>;
}
```

---

## Events

### Click Events

```typescript
function Button() {
  const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {
    console.log(event.currentTarget.value);
  };

  return <button onClick={handleClick}>Click me</button>;
}
```

### Form Events

```typescript
function Form() {
  const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {
    event.preventDefault();
    // Handle form submission
  };

  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {
    console.log(event.target.value);
  };

  return (
    <form onSubmit={handleSubmit}>
      <input type="text" onChange={handleChange} />
      <button type="submit">Submit</button>
    </form>
  );
}
```

### Keyboard Events

```typescript
function Input() {
  const handleKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {
    if (event.key === 'Enter') {
      console.log('Enter pressed');
    }
  };

  return <input type="text" onKeyDown={handleKeyDown} />;
}
```

### Generic Event Handler

```typescript
type EventHandler<T = HTMLElement> = (event: React.MouseEvent<T>) => void;

interface ButtonProps {
  onClick: EventHandler<HTMLButtonElement>;
}

function Button({ onClick }: ButtonProps) {
  return <button onClick={onClick}>Click me</button>;
}
```

---

## Advanced Patterns

### Generic Component

```typescript
interface ListProps<T> {
  items: T[];
  renderItem: (item: T) => React.ReactNode;
}

function List<T>({ items, renderItem }: ListProps<T>) {
  return (
    <ul>
      {items.map((item, index) => (
        <li key={index}>{renderItem(item)}</li>
      ))}
    </ul>
  );
}

// Usage
interface User {
  id: number;
  name: string;
}

function UserList() {
  const users: User[] = [
    { id: 1, name: 'John' },
    { id: 2, name: 'Jane' }
  ];

  return (
    <List
      items={users}
      renderItem={user => <span>{user.name}</span>}
    />
  );
}
```

### Render Props

```typescript
interface MouseTrackerProps {
  render: (position: { x: number; y: number }) => React.ReactNode;
}

function MouseTracker({ render }: MouseTrackerProps) {
  const [position, setPosition] = useState({ x: 0, y: 0 });

  const handleMouseMove = (event: React.MouseEvent) => {
    setPosition({ x: event.clientX, y: event.clientY });
  };

  return <div onMouseMove={handleMouseMove}>{render(position)}</div>;
}

// Usage
<MouseTracker
  render={({ x, y }) => (
    <p>Mouse position: {x}, {y}</p>
  )}
/>
```

### Higher-Order Component (HOC)

```typescript
interface WithLoadingProps {
  loading: boolean;
}

function withLoading<P extends object>(
  Component: React.ComponentType<P>
): React.FC<P & WithLoadingProps> {
  return ({ loading, ...props }: WithLoadingProps) => {
    if (loading) return <div>Loading...</div>;
    return <Component {...(props as P)} />;
  };
}

// Usage
interface UserProps {
  name: string;
}

function User({ name }: UserProps) {
  return <div>{name}</div>;
}

const UserWithLoading = withLoading(User);

<UserWithLoading name="John" loading={false} />
```

---

## Typing Third-Party Libraries

### React Router

```typescript
import { useParams, useNavigate } from 'react-router-dom';

interface RouteParams {
  id: string;
}

function UserProfile() {
  const { id } = useParams<RouteParams>();
  const navigate = useNavigate();

  return (
    <div>
      <h1>User {id}</h1>
      <button onClick={() => navigate('/users')}>Back</button>
    </div>
  );
}
```

### React Query

```typescript
import { useQuery } from '@tanstack/react-query';

interface User {
  id: number;
  name: string;
}

function UserProfile() {
  const { data, isLoading, error } = useQuery<User, Error>({
    queryKey: ['user', 1],
    queryFn: () => fetch('/api/user/1').then(res => res.json())
  });

  if (isLoading) return <div>Loading...</div>;
  if (error) return <div>Error: {error.message}</div>;

  return <div>{data?.name}</div>;
}
```

---

## Best Practices

### 1. **Use Type Inference**

```typescript
// Good - Type inferred
const [count, setCount] = useState(0);

// Unnecessary
const [count, setCount] = useState<number>(0);
```

### 2. **Avoid `React.FC` for New Code**

```typescript
// Preferred
function Button({ label }: { label: string }) {
  return <button>{label}</button>;
}

// Avoid (has limitations)
const Button: React.FC<{ label: string }> = ({ label }) => {
  return <button>{label}</button>;
};
```

### 3. **Use Discriminated Unions for State**

```typescript
type State =
  | { status: 'idle' }
  | { status: 'loading' }
  | { status: 'success'; data: User }
  | { status: 'error'; error: Error };

function Component() {
  const [state, setState] = useState<State>({ status: 'idle' });

  if (state.status === 'success') {
    // TypeScript knows state.data exists
    console.log(state.data);
  }
}
```

### 4. **Extract Complex Types**

```typescript
// Good - Reusable
interface User {
  id: number;
  name: string;
}

interface UserListProps {
  users: User[];
}

// Inline (not reusable)
function UserList({ users }: { users: { id: number; name: string }[] }) {}
```

---

## Summary

- Use **TypeScript** for type-safe React apps
- Type **props, state, events** explicitly
- **Hooks** work seamlessly with TypeScript
- Use **generic components** for reusability
- **Type inference** reduces boilerplate
- **Discriminated unions** for complex state
- Avoid **`React.FC`** in new code

---

## Related Topics

- [Generics](./generics)
- [Utility Types](./utility-types)
- [Advanced Types](./advanced-types)
- [React Hooks](/react/intermediate/hooks)

---

**Master TypeScript with React for bulletproof applications!** 
